# IDAT
A simple tool for Image Data Augmentation

## Required environment
* python >= 3.7
* package: [pillow](https://pypi.org/project/Pillow/), [torchvision](https://pypi.org/project/torchvision/)

## How to use
```bash
python IDAT.py config_simple.json
```

## Config
you can write config file by yourself.

### 基础参数

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| input_path | 输入路径。可为图片文件，或仅含有图片的文件夹 | 字符串 |
| output_path | 输出路径。必须为一文件夹，且该文件夹不存在 | 字符串 |
| resize_limit | 缩放阀值。当原始图片的长或宽大于给定的数字，将会对图片进行等比例缩放至其最长的边等于给定的参数 | 大于0的整数 |
| multi_process | 多进程参数。当参数大于0时，将会生成给定的进程数进行处理；当参数等于-1时，将会生成与cpu内核数一致的进程数进行处理 | -1，或大于0的整数 |
| job | 图片增强处理序列描述 | 二维数组 |

### 图片增强处理方法

#### 水平翻转

* horizaontal
* 将原图水平翻转

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | h |
| times | 该方法的使用次数 | 1 |

#### 随机截取

* crop
* 根据给定比例，随机截取原图的一部分
* 此截取不会超出原图的范围

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | c |
| times | 该方法的使用次数 | 大于0的正整数 |
| w_p | 截取的宽度占原图的百分比 | 大于0，小于等于1，浮点数 |
| h_p | 截取的高度占原图的百分比 | 大于0，小于等于1，浮点数 |

#### 随机旋转

* rotation
* 在给定范围内，随机取一值进行顺时针旋转

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | r |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 随机旋转的最小角度 | 可小于0，小于max，浮点数 |
| max | 随机旋转的最大角度 | 可小于0，大于min，浮点数 |

#### 灰度图

* grayscale
* 生成灰度图
* 此灰度图依旧具有RGB三通道，且R==G==B

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | g |
| times | 该方法的使用次数 | 1 |

#### 随机提高亮度

* brightness up
* 给定范围内，随机取一值，将亮度提高到该值

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | bu |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 提高后，亮度的最小值，1为基础亮度 | 大于等于1，小于max，浮点数 |
| max | 提高后，亮度的最大值，1为基础亮度 | 大于1，大于min，浮点数 |

#### 随机降低亮度

* brightness down
* 给定范围内，随机取一值，将亮度降低到该值

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | bd |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 降低后，亮度的最小值，1为基础亮度 | 大于等于0，小于max，浮点数 |
| max | 降低后，亮度的最大值，1为基础亮度 | 小于等于1，大于min，浮点数 |

#### 随机提高对比度

* contrast up
* 给定范围内，随机取一值，将对比度提高到该值

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | cu |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 提高后，对比度的最小值，1为基础对比度 | 大于等于1，小于max，浮点数 |
| max | 提高后，对比度的最大值，1为基础对比度 | 大于1，大于min，浮点数 |

#### 随机降低对比度

* contrast down
* 给定范围内，随机取一值，将对比度降低到该值

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | cd |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 降低后，对比度的最小值，1为基础对比度 | 大于等于0，小于max，浮点数 |
| max | 降低后，对比度的最大值，1为基础对比度 | 大于等于1，大于min，浮点数 |

#### 随机提高饱和度

* saturation up
* 给定范围内，随机取一值，将饱和度提高到该值

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | su |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 提高后，饱和度的最小值，1为基础饱和度 | 大于等于1，小于max，浮点数 |
| max | 提高后，饱和度的最大值，1为基础饱和度 | 大于1，大于min，浮点数 |

#### 随机降低饱和度

* saturation down
* 给定范围内，随机取一值，将饱和度降低到该值

| 参数名 | 描述 | 取值 |
| :---: | :-: | :--: |
| func | 该方法的标识符 | sd |
| times | 该方法的使用次数 | 大于0的正整数 |
| min | 降低后，饱和度的最小值，1为基础饱和度 | 大于等于0，小于max，浮点数 |
| max | 降低后，饱和度的最大值，1为基础饱和度 | 小于等于1，大于min，浮点数 |